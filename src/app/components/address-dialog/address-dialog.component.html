<form [formGroup]="form">
    <h1 mat-dialog-title>Add another address</h1>
    <mat-dialog-content>

        <mat-form-field  class="full-width" appearance="fill">
            <mat-label>Address type</mat-label>
            <mat-select formControlName="type">
              <mat-option value="SECOND_HOME">Second home</mat-option>
              <mat-option value="WORK">Work</mat-option>
              <mat-option value="HOLIDAY_PLACE">Holiday place</mat-option>
              <mat-option value="CLOSE_RELATIVE">Close relative</mat-option>
            </mat-select>
            <span
                *ngIf="form.controls['type'].invalid && (form.controls['type'].dirty || form.controls['type'].touched)"
                class="alert alert-danger">
                <span *ngIf="form.controls['type'].errors.required">
                    Address type is required.
                </span>
            </span>
          </mat-form-field>

          <div *ngIf="isNameFieldIsPresent()">
            <mat-form-field class="full-width" appearance="fill">
                <mat-label>Name:</mat-label>
                <input matInput class="form-control" formControlName="name" type="text">
            </mat-form-field>
          </div>

        <mat-form-field class="full-width" appearance="fill">
            <mat-label>Phone:</mat-label>
            <input matInput class="form-control" (focus)="addNumberPrefix()" formControlName="phone"
                type="text">
            <span
                *ngIf="form.controls['phone'].invalid && (form.controls['phone'].dirty || form.controls['phone'].touched)"
                class="alert alert-danger">
                <span *ngIf="form.controls['phone'].errors.required">
                    Phone number is required.
                </span>
                <span *ngIf="form.controls['phone'].errors.phone">
                    Phone number is invalid.
                </span>
                <span *ngIf="form.controls['phone'].errors.minlength">
                    Phone number is too short.
                </span>
            </span>
        </mat-form-field>
    
        <mat-form-field class="full-width" appearance="fill">
            <mat-label>Street:</mat-label>
            <input matInput class="form-control" formControlName="street" type="text">
            <span
                *ngIf="form.controls['street'].invalid && (form.controls['street'].dirty || form.controls['street'].touched)"
                class="alert alert-danger">
                <span *ngIf="form.controls['street'].errors.required">
                    Street is required.
                </span>
            </span>
        </mat-form-field>
    
        <mat-form-field class="full-width" appearance="fill">
            <mat-label>City:</mat-label>
            <input matInput class="form-control" formControlName="city" type="text">
            <span
                *ngIf="form.controls['city'].invalid && (form.controls['city'].dirty || form.controls['city'].touched)"
                class="alert alert-danger">
                <span *ngIf="form.controls['city'].errors.required">
                    City is required.
                </span>
            </span>
        </mat-form-field>
    
        <mat-form-field class="full-width" appearance="fill">
            <mat-label>Zip code:</mat-label>
            <input matInput class="form-control" formControlName="zip" type="text">
            <span
                *ngIf="form.controls['zip'].invalid && (form.controls['zip'].dirty || form.controls['zip'].touched)"
                class="alert alert-danger">
                <span *ngIf="form.controls['zip'].errors.required">
                    Zip code is required.
                </span>
            </span>
        </mat-form-field>
    
        <mat-form-field class="full-width" appearance="fill">
            <mat-label>Country:</mat-label>
            <input matInput class="form-control" formControlName="country" type="text">
            <span
                *ngIf="form.controls['country'].invalid && (form.controls['country'].dirty || form.controls['country'].touched)"
                class="alert alert-danger">
                <span *ngIf="form.controls['country'].errors.required">
                    Country is required.
                </span>
            </span>
        </mat-form-field>
        <br>
    </mat-dialog-content>
    <mat-dialog-actions>
        <button mat-button [disabled]="form.invalid" (click)="submitForm()">Add</button>
        <button mat-button type="button" (click)="dialogRef.close()">Cancel</button>
      </mat-dialog-actions>
</form>